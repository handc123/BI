# 响应式画布布局说明

## 概述
画布现在使用响应式布局，能够自适应可用空间，同时保持两列网格布局。

## 布局规则

### 画布宽度
- **容器宽度**：100%（自适应）
- **实际宽度**：取决于可用空间
  - 侧边栏展开：约 1320px（1920 - 200 - 400）
  - 侧边栏收起：约 1466px（1920 - 54 - 400）

### 组件布局
- **列数**：2列
- **组件宽度**：画布宽度的50%
- **组件高度**：400px（固定）
- **第一列位置**：left: 0%
- **第二列位置**：left: 50%

## 数据存储与渲染

### 数据库存储（像素值）
组件的position和size以像素值存储，基于1520px的标准画布宽度：
- 第一列：x=0, width=760
- 第二列：x=760, width=760

### 渲染转换（百分比）
在渲染时，像素值被转换为百分比：
```javascript
leftPercent = (x / 1520) * 100
widthPercent = (width / 1520) * 100
```

示例：
- x=0, width=760 → left: 0%, width: 50%
- x=760, width=760 → left: 50%, width: 50%

## 优势
1. **自适应**：画布宽度随侧边栏状态自动调整
2. **一致性**：组件始终保持两列布局
3. **兼容性**：数据库中的像素值保持不变，只在渲染时转换
4. **响应式**：适应不同屏幕尺寸

## 注意事项
- 拖拽和调整大小功能需要在百分比和像素之间转换
- 保存时需要将百分比转换回像素值（基于1520px标准）
